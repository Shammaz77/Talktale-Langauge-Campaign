<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TALKTALE  LANGAUGE  CAMPAIGN | EXCLUSIVELY FOR SIRAJUL HUDA STUDENTS AND ALUMNI 
	</title>
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
		integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
	<div class="form-page">
		<div class="container-main">
			<div class="wrapperr">
				
				<div class="form-box">
					<!-- <img src="./images/thahfilul quran.png" class="poster" alt=""> -->
					<h3 class="title-mn">Talktale 
						Langauge  Campaign 
						</h3>
						<p class="smlllll">Exclusively for Sirajul huda students and alumni 						</p>
					<div class="inner-box">
						<form id="registrationForm" onsubmit="submitForm(event)">
							<div class="form-group">
									<label for="name" class="label-form">Name:</label>
									<input type="text" id="name"  class="form-control" name="name" placeholder="Enter Your Name" required>
							</div>
						

							<div class="form-group">
									<label for="institution" class="label-form">Institution Name</label>
									<input type="text" id="institution" class="form-control" placeholder="Enter Your institution" name="institution" required>
							</div>
							<div class="form-group">
									<label for="phone" class="label-form">Whatsapp Number:</label>
									<input type="number" id="whatsapp" class="form-control" placeholder="Enter Your WhatsApp number " name="whatsapp" required>
							</div>
							<div class="form-group">
									<label for="instPhone" class="label-form"> Phone Number:</label>
									<input type="number" id="instPhone" class="form-control" placeholder="Enter  Phone Number" name="instPhone" required>
							</div>
							
							<button type="submit" class="btn btn-submit">Submit</button>
					</form>
					</div>
					
				</div>
			</div>

		</div>
	</div>


	<script>
		function submitForm(e) {
			e.preventDefault();
	
			const form = document.getElementById('registrationForm');
			const submitButton = document.querySelector('.btn-submit');
	
			// Prevent multiple submissions
			if (submitButton.disabled) {
				return;
			}
	
			// Add loading state to the button
			submitButton.disabled = true;
			submitButton.textContent = 'Loading...';
	
			const formData = new FormData(form);
			const data = Object.fromEntries(formData);
			console.log(data);
			// Define the Google Apps Script URL
			const scriptURL = 'https://script.google.com/macros/s/AKfycbxFao0XUoYDu1vCwPKNdm_uFsFZ5-8PuUdGKuJHcsEFolz8IsBF7C5Y78dNgNnLffw0/exec';
	
			const queryString = new URLSearchParams({
				name: data.name,
				place: data.place,
				district: data.district,
				type: data.type,
				institution: data.institution,
				whatsapp: data.whatsapp,
				instPhone: data.instPhone,
				callback: 'handleResponse'
			}).toString();
	
			// Create script element
			const script = document.createElement('script');
			script.src = `${scriptURL}?${queryString}`;
			document.body.appendChild(script);
	
			// Remove script after execution
			script.onload = function() {
				document.body.removeChild(script);
			};
		}
	
		// Callback function
		function handleResponse(response) {
			const submitButton = document.querySelector('.btn-submit');
	
			if (response.status === 'success') {
				alert('Success! Form submitted successfully.');
				document.getElementById('registrationForm').reset(); // Clear the form fields
			} else {
				alert('Error! Something went wrong.');
			}
	
			// Reset the button state
			submitButton.disabled = false;
			submitButton.textContent = 'Submit';
		}
	</script>
	
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
		integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
		crossorigin="anonymous"></script>
</body>

</html>